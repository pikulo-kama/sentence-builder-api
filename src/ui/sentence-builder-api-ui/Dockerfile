FROM node:14.19-slim

ARG BACKEND_URL
ARG SENTENCE_BUILDER_API_PRIVATE_PATH

RUN mkdir -p /workspace
WORKDIR /workspace

COPY package.json .
RUN npm install
COPY . .

RUN echo REACT_APP_BACKEND_URL=${BACKEND_URL}${SENTENCE_BUILDER_API_PRIVATE_PATH} > .env
EXPOSE 3000

CMD ["npm", "start"]